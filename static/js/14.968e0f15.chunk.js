"use strict";(self.webpackChunkaleopad_ui=self.webpackChunkaleopad_ui||[]).push([[14],{6190:function(e,n,t){t.d(n,{E5:function(){return s},U1:function(){return k},GF:function(){return y},b1:function(){return j},Zw:function(){return g}});var i=t(2791),r=t(650),l=t(183),a=t(281),c=t(7654),o=t(184);function s(e){var n=e.cap,t=e.privacy,i=e.denominator,s=e.numerator,d=e.stage,u=e.token,x=u?u.symbol:"COIN",m=u?u.decimals:6,h=[{key:"1",label:"Privacy",children:t?(0,o.jsx)(r.Z.Text,{children:t}):(0,o.jsx)(l.Z.Input,{})},{key:"2",label:"Cap",children:"boolean"==typeof n?(0,o.jsx)(r.Z.Text,{children:n?"enabled":"disabled"}):(0,o.jsx)(l.Z.Input,{})},{key:"3",label:"Ratio",children:s&&i?(0,o.jsx)(r.Z.Text,{children:(0,o.jsx)(c.T_,{rightSymbol:"ALEO",rightDecimals:6,leftSymbol:x,leftDecimals:m,ratioData:{numerator:s,denominator:i}})}):(0,o.jsx)(l.Z.Input,{})},{key:"4",label:"Stage",children:d?(0,o.jsx)(r.Z.Text,{children:d}):(0,o.jsx)(l.Z.Input,{})}];return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(a.Z,{title:"Launch summary",items:h,layout:"vertical"})})}var d=t(6106),u=t(914),x=t(2641),m=t(7689),h=t(1916);function j(e){return e.isPrivateSellsEnabled&&e.isPublicSellsEnabled?"mixed":e.isPrivateSellsEnabled?"private":"public"}function Z(e,n){var t=e.sellBlockDuration,i=e.sellStartBlock,r=e.claimStartBlock,l=e.claimBlockDuration;return n<i?"pending":n>=i&&n<i+t?"sales":n>=i+t&&n<r?"await TGE":n>=r&&(0===l||n<r+l)?"claims":"finished"}function f(e,n,t){if(e&&n)return{id:e.id.toFixed(),adminAddress:e.adminAddress,sellStartBlock:e.sellStartBlock,sellBlockDuration:e.sellBlockDuration,claimStartBlock:e.claimStartBlock,claimBlockDuration:e.claimBlockDuration,numerator:e.numerator,denominator:e.denominator,privacy:j(e.flags),cap:e.flags.isCapEnabled,token:(0,h.T)(t),stage:Z(e,n)}}var v={row:"style_row__CXFdW"},p=t(1735);function k(e){var n,t,a,s,h=e.launch,j=e.isConnected,Z=e.onBuyClick,k=(0,p.XV)(h.id),b=(0,p.hi)().blockHeight,y=(0,i.useMemo)((function(){return f(h,b,k.data)}),[h,b,k.data]),g=(null===y||void 0===y||null===(n=y.token)||void 0===n?void 0:n.name)||"Token",C=(null===y||void 0===y||null===(t=y.token)||void 0===t||null===(a=t.symbol)||void 0===a?void 0:a.toUpperCase())||"TKN",T=(null===y||void 0===y||null===(s=y.token)||void 0===s?void 0:s.decimals)||6,B=(0,m.s0)(),I=(0,i.useCallback)((function(){B("/launches/".concat((0,p.mC)(h.id)))}),[h.id,B]);return y?(0,o.jsxs)(d.Z,{className:v.row,align:"middle",children:[(0,o.jsx)(u.Z,{span:4,children:(0,o.jsx)(r.Z.Link,{onClick:I,children:g})}),(0,o.jsx)(u.Z,{span:4,children:(0,o.jsx)(r.Z.Text,{children:y.stage.toUpperCase()})}),(0,o.jsx)(u.Z,{span:4,children:(0,o.jsx)(r.Z.Text,{children:y.privacy})}),(0,o.jsx)(u.Z,{span:8,children:(0,o.jsx)(c.T_,{rightSymbol:"ALEO",rightDecimals:6,leftSymbol:C,leftDecimals:T,ratioData:{numerator:h.numerator,denominator:h.denominator}})}),(0,o.jsx)(u.Z,{span:4,children:j&&"sales"===y.stage&&(0,o.jsx)(x.ZP,{type:"primary",onClick:Z,children:"Buy"})})]}):(0,o.jsxs)(d.Z,{className:v.row,align:"middle",children:[(0,o.jsx)(u.Z,{span:4,children:(0,o.jsx)(l.Z.Input,{})}),(0,o.jsx)(u.Z,{span:4,children:(0,o.jsx)(l.Z.Input,{})}),(0,o.jsx)(u.Z,{span:4,children:(0,o.jsx)(l.Z.Input,{})}),(0,o.jsx)(u.Z,{span:8,children:(0,o.jsx)(l.Z.Input,{})}),(0,o.jsx)(u.Z,{span:4,children:(0,o.jsx)(l.Z.Button,{})})]})}var b=t(1773);function y(e){var n=e.blockHeight,t=e.sellStartBlock,i=e.sellBlockDuration,a=e.claimStartBlock,s=e.claimBlockDuration;return(0,o.jsxs)(b.Z,{direction:"vertical",children:[(0,o.jsx)(d.Z,{children:(0,o.jsxs)(b.Z,{children:[(0,o.jsx)(r.Z.Text,{children:"Sales start"}),null!=n&&null!=t?(0,o.jsx)(c.DU,{currentBlockHeight:n,targetBlockHeight:t}):(0,o.jsx)(l.Z.Input,{})]})}),(0,o.jsx)(d.Z,{children:(0,o.jsxs)(b.Z,{children:[(0,o.jsx)(r.Z.Text,{children:"Sales end"}),null!=n&&null!=t&&null!=i?(0,o.jsx)(c.DU,{currentBlockHeight:n,targetBlockHeight:t+i}):(0,o.jsx)(l.Z.Input,{})]})}),(0,o.jsx)(d.Z,{children:(0,o.jsxs)(b.Z,{children:[(0,o.jsx)(r.Z.Text,{children:"Claim start"}),null!=n&&null!=a?(0,o.jsx)(c.DU,{currentBlockHeight:n,targetBlockHeight:a}):(0,o.jsx)(l.Z.Input,{})]})}),null!=s&&s>0&&(0,o.jsx)(d.Z,{children:(0,o.jsxs)(b.Z,{children:[(0,o.jsx)(r.Z.Text,{children:"Claim end"}),null!=n&&null!=a?(0,o.jsx)(c.DU,{currentBlockHeight:n,targetBlockHeight:a+s}):(0,o.jsx)(l.Z.Input,{})]})})]})}function g(e){var n,t=(0,p.Zw)(e),i=t.data,r=t.isLoading,l=t.error,a=(0,p.dQ)(null===i||void 0===i||null===(n=i.tokenId)||void 0===n?void 0:n.toFixed()),c=a.data,o=a.isLoading,s=a.error,d=(0,p.hi)(),u=d.blockHeight,x=d.loading,m=d.error;return{launch:f(i,u,c),blockHeight:u,loading:r||o||x,error:l||s||m||void 0}}},8995:function(e,n,t){t.d(n,{s:function(){return x},H:function(){return f}});var i=t(9439),r=t(2791),l=t(4556),a=t(650),c=t(183),o=t(281),s=t(1735),d=t(1916),u=t(184);function x(e){var n=e.tokenId,t=(0,s.dQ)(n),x=t.data,m=t.error,h=(0,r.useMemo)((function(){return(0,d.T)(x)}),[x]),j=l.Z.useNotification(),Z=(0,i.Z)(j,2),f=Z[0],v=Z[1],p=[{key:"1",label:"Name",children:x?(0,u.jsx)(a.Z.Text,{children:h.name}):(0,u.jsx)(c.Z.Input,{})},{key:"2",label:"Symbol",children:x?(0,u.jsx)(a.Z.Text,{children:h.symbol.toUpperCase()}):(0,u.jsx)(c.Z.Input,{})},{key:"3",label:"Decimals",children:x?(0,u.jsx)(a.Z.Text,{children:h.decimals}):(0,u.jsx)(c.Z.Input,{})}];return(0,r.useEffect)((function(){m&&f.error({message:"Token loading error",description:String(m)})}),[m]),(0,u.jsxs)(u.Fragment,{children:[v,(0,u.jsx)(o.Z,{title:"Token",items:p,layout:"vertical"})]})}var m=t(7689),h={row:"style_row__sMVKO"},j=t(6106),Z=t(914);function f(e){var n=e.token,t=(0,m.s0)(),i=(0,r.useCallback)((function(){t("/tokens/".concat(n.id))}),[n.id,t]);return(0,u.jsxs)(j.Z,{className:h.row,children:[(0,u.jsx)(Z.Z,{span:20,children:(0,u.jsx)(a.Z.Link,{onClick:i,children:n.name})}),(0,u.jsx)(Z.Z,{span:4,children:(0,u.jsx)(a.Z.Text,{children:n.decimals})})]})}},1916:function(e,n,t){t.d(n,{T:function(){return r}});var i=t(1735);function r(e){if(e)return{name:(0,i.f8)(e.name),symbol:(0,i.f8)(e.symbol),id:e.id.toFixed(),decimals:e.decimals}}},61:function(e,n,t){t.d(n,{Z:function(){return y}});var i=t(9439),r=t(1735),l=t(4840),a=t(8597),c=t(2641),o=t(6106),s=t(650),d=t(2791),u=t(184);function x(e){var n=e.publicBalance,t=e.setAmount,i=e.showTitle,x=e.enabled,m=e.blocker,h=e.buy,j=e.amount,Z=(0,d.useMemo)((function(){return j.gt(0)&&j.lte(n)&&x&&!m}),[j,n,x,m]);return(0,u.jsxs)(l.Z,{title:i?"Buy public":void 0,layout:"vertical",children:[(0,u.jsx)(l.Z.Item,{label:"Credits amount (available ".concat((0,r.k8)(n,6).toFixed(),")"),children:(0,u.jsx)(a.Z,{min:0,value:(0,r.k8)(j,6).toNumber(),onChange:function(e){t(new r.G9((0,r.xG)(e||0,6)))},addonAfter:(0,u.jsx)(c.ZP,{onClick:function(){t(n)},children:"Max"})})}),(0,u.jsxs)(l.Z.Item,{children:[(0,u.jsx)(o.Z,{justify:"center",children:(0,u.jsx)(c.ZP,{type:"primary",disabled:!Z,onClick:function(){Z&&h()},children:"Buy"})}),m&&(0,u.jsx)(o.Z,{children:(0,u.jsx)(s.Z.Text,{type:"danger",children:m})})]})]})}var m=t(3433),h=t(1640),j=function(e){var n=e.records,t=e.onRecordClick,i=e.selectedRecord;return(0,u.jsx)(h.Z,{bordered:!0,header:(0,u.jsx)(s.Z.Title,{level:3,children:"Credit private records"}),dataSource:n,renderItem:function(e){return(0,u.jsx)(h.Z.Item,{onClick:function(){return t(e)},children:(0,u.jsxs)(s.Z.Text,{type:"secondary",mark:i===e,children:[(0,r.k8)(e.amount,6).dp(2).toString()," CREDITs"]})})}})};function Z(e){var n=e.records,t=e.buy,i=e.selectRecord,x=e.selectedRecord,h=e.amount,Z=e.setAmount,f=e.enabled,v=e.blocker,p=e.showTitle,k=(0,d.useMemo)((function(){return r.G9.maximum.apply(r.G9,(0,m.Z)(n.map((function(e){return e.amount}))).concat([0]))}),[n]),b=(0,d.useMemo)((function(){return h.gt(0)&&h.lte(k)&&x&&f&&!v}),[h,k,f,v,x]);return(0,u.jsxs)(l.Z,{title:p?"Buy private":void 0,layout:"vertical",children:[(0,u.jsx)(l.Z.Item,{label:"Credits amount (available ".concat((0,r.k8)(k,6).toFixed(),")"),children:(0,u.jsx)(a.Z,{min:0,value:(0,r.k8)(h,6).toNumber(),onChange:function(e){Z(new r.G9((0,r.xG)(e||0,6)))},addonAfter:(0,u.jsx)(c.ZP,{onClick:function(){Z(k)},children:"Max"})})}),(0,u.jsx)(l.Z.Item,{children:(0,u.jsx)(j,{records:n,selectedRecord:x,onRecordClick:i})}),(0,u.jsxs)(l.Z.Item,{children:[(0,u.jsx)(o.Z,{justify:"center",children:(0,u.jsx)(c.ZP,{type:"primary",disabled:!b,onClick:function(){b&&t()},children:"Buy"})}),v&&(0,u.jsx)(o.Z,{children:(0,u.jsx)(s.Z.Text,{type:"danger",children:v})})]})]})}var f=t(183),v=t(1773);function p(e){var n=e.selectMode,t=e.currentMode;function i(e){n(e)}return(0,u.jsx)(o.Z,{justify:"center",children:(0,u.jsxs)(v.Z.Compact,{children:[(0,u.jsx)(c.ZP,{type:"public"===t?"primary":"default",onClick:function(){return i("public")},children:"Public"}),(0,u.jsx)(c.ZP,{type:"private"===t?"primary":"default",onClick:function(){return i("private")},children:"Private"})]})})}var k=t(7654);function b(e){var n=e.decimals,t=e.symbol,i=e.numerator,r=e.denominator,l=e.creditsAmount;return(0,u.jsxs)(s.Z.Text,{children:["You will receive"," ~ ",(0,u.jsx)(k.$d,{amount:{amount:l,numerator:i,denominator:r},decimals:n,symbol:t})]})}function y(e){var n=e.privacy,t=e.launchId,l=e.token,a=(0,d.useState)("public"),c=(0,i.Z)(a,2),s=c[0],m=c[1],h=(0,r.eX)(t),j="mixed"===n;if(h.loading||!h.enabled)return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(f.Z,{})});return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(v.Z,{direction:"vertical",children:[j&&(0,u.jsx)(p,{selectMode:function(e){m(e),"public"===e&&h.setSelectedPayment("public")},currentMode:s}),(0,u.jsx)(o.Z,{justify:"center",children:(0,u.jsx)(b,{creditsAmount:h.creditsAmount,symbol:(null===l||void 0===l?void 0:l.symbol)||"TKN",decimals:(null===l||void 0===l?void 0:l.decimals)||6,numerator:h.launch.numerator,denominator:h.launch.denominator})}),(0,u.jsx)(o.Z,{justify:"center",children:"public"===s?(0,u.jsx)(x,{amount:h.creditsAmount,setAmount:h.setCreditsAmount,buy:h.mutation.mutate,enabled:!h.mutation.isLoading,blocker:h.getBlocker(),publicBalance:h.amounts.publicAmount,showTitle:!j}):(0,u.jsx)(Z,{amount:h.creditsAmount,setAmount:h.setCreditsAmount,buy:h.mutation.mutate,enabled:!h.mutation.isLoading,blocker:h.getBlocker(),selectedRecord:"object"===typeof h.selectedPayment?h.selectedPayment:void 0,selectRecord:h.setSelectedPayment,records:h.amounts.privateRecords,showTitle:!j})})]})})}},6259:function(e,n,t){t.r(n),t.d(n,{default:function(){return B}});var i=t(7689),r=t(1413),l=t(9439),a=t(4593),c=t(4556),o=t(321),s=t(1773),d=t(6106),u=t(650),x=t(6190),m=t(8995),h=t(61),j=t(183),Z=t(4840),f=t(177),v=t(8597),p=t(2641),k=t(2791),b=t(1735),y=t(184),g={invalidPrefix:"Address should start with 'aleo1'"};function C(e){var n=e.administration,t=e.tokenDecimals,i=(0,k.useState)(null),r=(0,l.Z)(i,2),a=r[0],c=r[1],o=(0,b.oI)(n);if(o.loading)return(0,y.jsx)(j.Z,{});return(0,y.jsxs)(Z.Z,{labelCol:{span:7},children:[(0,y.jsx)(Z.Z.Item,{label:"Grantee",validateStatus:Boolean(a)?"error":void 0,help:a&&g[a],children:(0,y.jsx)(f.Z,{value:o.grantee||"",onChange:function(e){e.target.value.startsWith("aleo1")?c(null):c("invalidPrefix"),o.setGrantee(e.target.value||"")}})}),(0,y.jsx)(Z.Z.Item,{label:"Amount",children:(0,y.jsx)(v.Z,{value:(0,b.k8)(o.amount,t).toNumber(),onChange:function(e){var n=e||0;o.setAmount(new b.fE((0,b.xG)(n,t)))},min:0})}),(0,y.jsx)(Z.Z.Item,{help:o.blocker,children:(0,y.jsx)(d.Z,{justify:"center",children:(0,y.jsx)(p.ZP,{type:"primary",onClick:function(){o.mutation.mutate()},children:"Grant"})})})]})}function T(e){var n,t=e.launchId,i=(0,x.Zw)(t),j=i.launch,Z=i.blockHeight,f=i.error,v=(0,b.bF)(null===j||void 0===j?void 0:j.id),p=(0,a.Os)(),g=c.Z.useNotification(),T=(0,l.Z)(g,2),B=T[0],I=T[1];return(0,k.useEffect)((function(){f&&B.error({message:"Launch loading error",description:f})}),[f]),(0,y.jsxs)(o.Z,{title:"Launch",children:[I,(0,y.jsxs)(s.Z,{direction:"vertical",children:[(0,y.jsx)(d.Z,{children:(0,y.jsx)(x.E5,(0,r.Z)({},j))}),(null===j||void 0===j||null===(n=j.token)||void 0===n?void 0:n.id)&&(0,y.jsx)(d.Z,{justify:"center",children:(0,y.jsx)(m.s,{tokenId:j.token.id})}),v.data&&(null===j||void 0===j?void 0:j.token)&&(null===j||void 0===j?void 0:j.cap)&&(0,y.jsxs)(s.Z,{direction:"vertical",children:[(0,y.jsx)(d.Z,{justify:"center",children:(0,y.jsx)(u.Z.Title,{level:4,children:"Grant cap"})}),(0,y.jsx)(d.Z,{justify:"center",children:(0,y.jsx)(C,{administration:v.data,tokenDecimals:j.token.decimals})})]}),(0,y.jsx)(d.Z,{justify:"center",children:(0,y.jsx)(u.Z.Title,{level:4,children:"Schedule"})}),(0,y.jsx)(d.Z,{children:(0,y.jsx)(x.GF,(0,r.Z)({blockHeight:Z},j))}),(0,y.jsx)(d.Z,{justify:"center",children:j&&"sales"===j.stage&&p.connected&&(0,y.jsx)(h.Z,{launchId:t,privacy:j.privacy})})]})]})}var B=function(){var e=(0,i.UO)().id;return(0,y.jsx)(T,{launchId:e})}}}]);
//# sourceMappingURL=14.968e0f15.chunk.js.map