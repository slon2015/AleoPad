"use strict";(self.webpackChunkaleopad_ui=self.webpackChunkaleopad_ui||[]).push([[362],{6190:function(e,n,t){t.d(n,{E5:function(){return s},U1:function(){return k},GF:function(){return y},b1:function(){return Z},Zw:function(){return g}});var r=t(2791),i=t(650),l=t(183),c=t(281),a=t(9522),o=t(184);function s(e){var n=e.cap,t=e.privacy,r=e.denominator,s=e.numerator,u=e.stage,d=e.token,x=d?d.symbol:"COIN",m=d?d.decimals:6,h=[{key:"1",label:"Privacy",children:t?(0,o.jsx)(i.Z.Text,{children:t}):(0,o.jsx)(l.Z.Input,{})},{key:"2",label:"Cap",children:void 0!=n?(0,o.jsx)(i.Z.Text,{children:n?"enabled":"disabled"}):(0,o.jsx)(l.Z.Input,{})},{key:"3",label:"Ratio",children:s&&r?(0,o.jsx)(i.Z.Text,{children:(0,o.jsx)(a.T,{rightSymbol:"ALEO",rightDecimals:6,leftSymbol:x,leftDecimals:m,ratioData:{numerator:s,denominator:r}})}):(0,o.jsx)(l.Z.Input,{})},{key:"4",label:"Stage",children:u?(0,o.jsx)(i.Z.Text,{children:u}):(0,o.jsx)(l.Z.Input,{})}];return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(c.Z,{title:"Launch summary",items:h,layout:"vertical"})})}var u=t(6106),d=t(914),x=t(2641),m=t(7689),h=t(1916);function Z(e){return e.isPrivateSellsEnabled&&e.isPublicSellsEnabled?"mixed":e.isPrivateSellsEnabled?"private":"public"}function j(e,n){var t=e.sellBlockDuration,r=e.sellStartBlock,i=e.claimStartBlock,l=e.claimBlockDuration;return n<r?"pending":n>=r&&n<r+t?"sales":n>=r+t&&n<i?"await TGE":n>=i&&(0===l||n<i+l)?"claims":"finished"}function v(e,n,t){if(e&&n)return{id:e.id.toFixed(),adminAddress:e.adminAddress,sellStartBlock:e.sellStartBlock,sellBlockDuration:e.sellBlockDuration,claimStartBlock:e.claimStartBlock,claimBlockDuration:e.claimBlockDuration,numerator:e.numerator,denominator:e.denominator,privacy:Z(e.flags),cap:e.flags.isCapEnabled,token:(0,h.T)(t),stage:j(e,n)}}var f={row:"style_row__CXFdW"},p=t(6169);function k(e){var n,t,c,s,h=e.launch,Z=e.isConnected,j=e.onBuyClick,k=(0,p.XV)(h.id),b=(0,p.hi)().blockHeight,y=(0,r.useMemo)((function(){return v(h,b,k.data)}),[h,b,k.data]),g=(null===y||void 0===y||null===(n=y.token)||void 0===n?void 0:n.name)||"Token",B=(null===y||void 0===y||null===(t=y.token)||void 0===t||null===(c=t.symbol)||void 0===c?void 0:c.toUpperCase())||"TKN",C=(null===y||void 0===y||null===(s=y.token)||void 0===s?void 0:s.decimals)||6,T=(0,m.s0)(),I=(0,r.useCallback)((function(){T("/launches/".concat((0,p.mC)(h.id)))}),[h.id,T]);return y?(0,o.jsxs)(u.Z,{className:f.row,align:"middle",children:[(0,o.jsx)(d.Z,{span:4,children:(0,o.jsx)(i.Z.Link,{onClick:I,children:g})}),(0,o.jsx)(d.Z,{span:4,children:(0,o.jsx)(i.Z.Text,{children:y.stage.toUpperCase()})}),(0,o.jsx)(d.Z,{span:4,children:(0,o.jsx)(i.Z.Text,{children:y.privacy})}),(0,o.jsx)(d.Z,{span:8,children:(0,o.jsx)(a.T,{rightSymbol:"ALEO",rightDecimals:6,leftSymbol:B,leftDecimals:C,ratioData:{numerator:h.numerator,denominator:h.denominator}})}),(0,o.jsx)(d.Z,{span:4,children:Z&&"sales"===y.stage&&(0,o.jsx)(x.ZP,{type:"primary",onClick:j,children:"Buy"})})]}):(0,o.jsxs)(u.Z,{className:f.row,align:"middle",children:[(0,o.jsx)(d.Z,{span:4,children:(0,o.jsx)(l.Z.Input,{})}),(0,o.jsx)(d.Z,{span:4,children:(0,o.jsx)(l.Z.Input,{})}),(0,o.jsx)(d.Z,{span:4,children:(0,o.jsx)(l.Z.Input,{})}),(0,o.jsx)(d.Z,{span:8,children:(0,o.jsx)(l.Z.Input,{})}),(0,o.jsx)(d.Z,{span:4,children:(0,o.jsx)(l.Z.Button,{})})]})}var b=t(1773);function y(e){var n=e.blockHeight,t=e.sellStartBlock,r=e.sellBlockDuration,c=e.claimStartBlock,s=e.claimBlockDuration;return(0,o.jsxs)(b.Z,{direction:"vertical",children:[(0,o.jsx)(u.Z,{children:(0,o.jsxs)(b.Z,{children:[(0,o.jsx)(i.Z.Text,{children:"Sales start"}),null!=n&&null!=t?(0,o.jsx)(a.D,{currentBlockHeight:n,targetBlockHeight:t}):(0,o.jsx)(l.Z.Input,{})]})}),(0,o.jsx)(u.Z,{children:(0,o.jsxs)(b.Z,{children:[(0,o.jsx)(i.Z.Text,{children:"Sales end"}),null!=n&&null!=t&&null!=r?(0,o.jsx)(a.D,{currentBlockHeight:n,targetBlockHeight:t+r}):(0,o.jsx)(l.Z.Input,{})]})}),(0,o.jsx)(u.Z,{children:(0,o.jsxs)(b.Z,{children:[(0,o.jsx)(i.Z.Text,{children:"Claim start"}),null!=n&&null!=c?(0,o.jsx)(a.D,{currentBlockHeight:n,targetBlockHeight:c}):(0,o.jsx)(l.Z.Input,{})]})}),null!=s&&s>0&&(0,o.jsx)(u.Z,{children:(0,o.jsxs)(b.Z,{children:[(0,o.jsx)(i.Z.Text,{children:"Claim end"}),null!=n&&null!=c?(0,o.jsx)(a.D,{currentBlockHeight:n,targetBlockHeight:c+s}):(0,o.jsx)(l.Z.Input,{})]})})]})}function g(e){var n,t=(0,p.Zw)(e),r=t.data,i=t.isLoading,l=t.error,c=(0,p.dQ)(null===r||void 0===r||null===(n=r.tokenId)||void 0===n?void 0:n.toFixed()),a=c.data,o=c.isLoading,s=c.error,u=(0,p.hi)(),d=u.blockHeight,x=u.loading,m=u.error;return{launch:v(r,d,a),blockHeight:d,loading:i||o||x,error:l||s||m||void 0}}},1916:function(e,n,t){t.d(n,{T:function(){return i}});var r=t(6169);function i(e){if(e)return{name:(0,r.f8)(e.name),symbol:(0,r.f8)(e.symbol),id:e.id.toFixed(),decimals:e.decimals}}},4055:function(e,n,t){t.d(n,{Z:function(){return k}});var r=t(9439),i=t(6169),l=t(4840),c=t(8597),a=t(2641),o=t(6106),s=t(650),u=t(2791),d=t(184);function x(e){var n=e.publicBalance,t=e.setAmount,r=e.showTitle,x=e.enabled,m=e.blocker,h=e.buy,Z=e.amount,j=(0,u.useMemo)((function(){return Z.gt(0)&&Z.lte(n)&&x&&!m}),[Z,n,x,m]);return(0,d.jsxs)(l.Z,{title:r?"Buy public":void 0,layout:"vertical",children:[(0,d.jsx)(l.Z.Item,{label:"Credits amount (available ".concat((0,i.k8)(n,6).toFixed(),")"),children:(0,d.jsx)(c.Z,{min:0,value:(0,i.k8)(Z,6).toNumber(),onChange:function(e){t(new i.G9((0,i.xG)(e||0,6)))},addonAfter:(0,d.jsx)(a.ZP,{onClick:function(){t(n)},children:"Max"})})}),(0,d.jsxs)(l.Z.Item,{children:[(0,d.jsx)(o.Z,{justify:"center",children:(0,d.jsx)(a.ZP,{type:"primary",disabled:!j,onClick:function(){j&&h()},children:"Buy"})}),m&&(0,d.jsx)(o.Z,{children:(0,d.jsx)(s.Z.Text,{type:"danger",children:m})})]})]})}var m=t(3433),h=t(523),Z=function(e){var n=e.records,t=e.onRecordClick,r=e.selectedRecord;return(0,d.jsx)(h.Z,{bordered:!0,header:(0,d.jsx)(s.Z.Title,{level:3,children:"Credit private records"}),dataSource:n,renderItem:function(e){return(0,d.jsx)(h.Z.Item,{onClick:function(){return t(e)},children:(0,d.jsxs)(s.Z.Text,{type:"secondary",mark:r===e,children:[(0,i.k8)(e.amount,6).dp(2).toString()," CREDITs"]})})}})};function j(e){var n=e.records,t=e.buy,r=e.selectRecord,x=e.selectedRecord,h=e.amount,j=e.setAmount,v=e.enabled,f=e.blocker,p=e.showTitle,k=(0,u.useMemo)((function(){return i.G9.maximum.apply(i.G9,(0,m.Z)(n.map((function(e){return e.amount}))).concat([0]))}),[n]),b=(0,u.useMemo)((function(){return h.gt(0)&&h.lte(k)&&x&&v&&!f}),[h,k,v,f,x]);return(0,d.jsxs)(l.Z,{title:p?"Buy private":void 0,layout:"vertical",children:[(0,d.jsx)(l.Z.Item,{label:"Credits amount (available ".concat((0,i.k8)(k,6).toFixed(),")"),children:(0,d.jsx)(c.Z,{min:0,value:(0,i.k8)(h,6).toNumber(),onChange:function(e){j(new i.G9((0,i.xG)(e||0,6)))},addonAfter:(0,d.jsx)(a.ZP,{onClick:function(){j(k)},children:"Max"})})}),(0,d.jsx)(l.Z.Item,{children:(0,d.jsx)(Z,{records:n,selectedRecord:x,onRecordClick:r})}),(0,d.jsxs)(l.Z.Item,{children:[(0,d.jsx)(o.Z,{justify:"center",children:(0,d.jsx)(a.ZP,{type:"primary",disabled:!b,onClick:function(){b&&t()},children:"Buy"})}),f&&(0,d.jsx)(o.Z,{children:(0,d.jsx)(s.Z.Text,{type:"danger",children:f})})]})]})}var v=t(183),f=t(1773);function p(e){var n=e.selectMode,t=e.currentMode;function r(e){n(e)}return(0,d.jsx)(o.Z,{justify:"center",children:(0,d.jsxs)(f.Z.Compact,{children:[(0,d.jsx)(a.ZP,{type:"public"===t?"primary":"default",onClick:function(){return r("public")},children:"Public"}),(0,d.jsx)(a.ZP,{type:"private"===t?"primary":"default",onClick:function(){return r("private")},children:"Private"})]})})}function k(e){var n=e.privacy,t=e.launchId,l=(0,u.useState)("public"),c=(0,r.Z)(l,2),a=c[0],s=c[1],m=(0,i.eX)(t),h="mixed"===n;if(m.loading||!m.enabled)return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(v.Z,{})});return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(f.Z,{direction:"vertical",children:[h&&(0,d.jsx)(p,{selectMode:function(e){s(e),"public"===e&&m.setSelectedPayment("public")},currentMode:a}),(0,d.jsx)(o.Z,{justify:"center",children:"public"===a?(0,d.jsx)(x,{amount:m.creditsAmount,setAmount:m.setCreditsAmount,buy:m.mutation.mutate,enabled:!m.mutation.isLoading,blocker:m.getBlocker(),publicBalance:m.amounts.publicAmount,showTitle:!h}):(0,d.jsx)(j,{amount:m.creditsAmount,setAmount:m.setCreditsAmount,buy:m.mutation.mutate,enabled:!m.mutation.isLoading,blocker:m.getBlocker(),selectedRecord:"object"===typeof m.selectedPayment?m.selectedPayment:void 0,selectRecord:m.setSelectedPayment,records:m.amounts.privateRecords,showTitle:!h})})]})})}},9362:function(e,n,t){t.r(n),t.d(n,{default:function(){return v}});var r=t(7689),i=t(1413),l=t(9439),c=t(4593),a=t(4556),o=t(321),s=t(1773),u=t(6106),d=t(650),x=t(6190),m=t(4055),h=t(2791),Z=t(184);function j(e){var n=e.launchId,t=(0,x.Zw)(n),r=t.launch,j=t.blockHeight,v=t.error,f=(0,c.Os)(),p=a.Z.useNotification(),k=(0,l.Z)(p,2),b=k[0],y=k[1];return(0,h.useEffect)((function(){v&&b.error({message:"Launch loading error",description:v})}),[v]),(0,Z.jsxs)(o.Z,{title:"Launch",children:[y,(0,Z.jsxs)(s.Z,{direction:"vertical",children:[(0,Z.jsx)(u.Z,{children:(0,Z.jsx)(x.E5,(0,i.Z)({},r))}),(0,Z.jsx)(u.Z,{justify:"center",children:(0,Z.jsx)(d.Z.Title,{children:"Schedule"})}),(0,Z.jsx)(u.Z,{children:(0,Z.jsx)(x.GF,(0,i.Z)({blockHeight:j},r))}),(0,Z.jsx)(u.Z,{justify:"center",children:r&&"sales"===r.stage&&f.connected&&(0,Z.jsx)(m.Z,{launchId:n,privacy:r.privacy})})]})]})}var v=function(){var e=(0,r.UO)().id;return(0,Z.jsx)(j,{launchId:e})}},9522:function(e,n,t){t.d(n,{D:function(){return x},T:function(){return k}});var r=t(4942),i=t(1773),l=t(650),c=t(1694),a=t.n(c),o=t(2426),s=t.n(o),u={passed:"styles_passed__pVj6j"},d=t(184);function x(e){var n=e.currentBlockHeight,t=e.targetBlockHeight,c=e.meanBlockTimeInSeconds,o=e.dontShowBlocksCount,x=t-n,m=x<=0,h=Boolean(c)&&c&&0!==x?"~ "+function(e,n,t){var r=t?" ago":"";return s().duration(Math.abs(e)*n,"seconds").humanize()+r}(x,c,m):"",Z=o?"":"".concat(Math.abs(x)," Blocks ");return(0,d.jsx)(i.Z,{children:(0,d.jsxs)(l.Z.Text,{className:a()((0,r.Z)({},u.passed,m)),children:[Z,h]})})}var m=t(9439),h=t(4471),Z=t(2791);function j(e,n,t){return n!=t?(0,h.Z)(e).dividedBy((0,h.Z)(10).pow(Math.abs(n-t))):(0,h.Z)(e)}var v=[{value:1e6,symbol:"M"},{value:1e3,symbol:"K"}];function f(e,n){for(var t=0;t<v.length;t++){var r=v[t];if((0,h.Z)(e).isGreaterThanOrEqualTo(r.value))return void 0==n?(0,h.Z)(e).div(r.value).toFixed()+r.symbol:(0,h.Z)(e).div(r.value).toFixed(n)+r.symbol}return void 0==n?(0,h.Z)(e).toFixed():(0,h.Z)(e).toFixed(n)}var p=1e-4;function k(e){var n=e.ratioData,t=e.leftSymbol,r=e.leftDecimals,i=e.rightSymbol,c=e.rightDecimals,a=e.notInvertAmounts,o=e.creditsAmount,s=void 0===o?1:o,u=e.creditsDecimalPlaces,x=void 0===u?0:u,v=(0,Z.useMemo)((function(){return j("value"in n?(0,h.Z)(1).dividedBy(n.value):(e=n.numerator,t=n.denominator,(0,h.Z)(e).div(t)),c,r);var e,t}),[n,c,r]),k=(0,Z.useMemo)((function(){return!a&&v.isLessThanOrEqualTo(p)?function(e){return[(0,h.Z)(1).dividedBy(e),(0,h.Z)(1)]}(v):[(0,h.Z)(1),(0,h.Z)(v)]}),[v,a]),b=(0,m.Z)(k,2),y=b[0],g=b[1];return(0,d.jsxs)(l.Z.Text,{children:[f(y.multipliedBy(s),x)," ",i.toUpperCase()," ="," ",f(g.multipliedBy(s))," ",t.toUpperCase()]})}}}]);
//# sourceMappingURL=362.27d5be58.chunk.js.map