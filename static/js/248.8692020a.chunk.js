"use strict";(self.webpackChunkaleopad_ui=self.webpackChunkaleopad_ui||[]).push([[248],{8139:function(e,n,t){t.d(n,{E5:function(){return s},U1:function(){return m},GF:function(){return k},Zw:function(){return y}});var i=t(2791),l=t(650),a=t(183),r=t(281),o=t(9522),c=t(184);function s(e){var n=e.cap,t=e.privacy,i=e.ratio,s=e.stage,u=e.token,d=u?u.symbol:"COIN",h=u?u.decimals:6,v=[{key:"1",label:"Privacy",children:t?(0,c.jsx)(l.Z.Text,{children:t}):(0,c.jsx)(a.Z.Input,{})},{key:"2",label:"Cap",children:n?(0,c.jsx)(l.Z.Text,{children:n?"enabled":"disabled"}):(0,c.jsx)(a.Z.Input,{})},{key:"3",label:"Ratio",children:i?(0,c.jsx)(l.Z.Text,{children:(0,c.jsx)(o.T,{rightSymbol:"ALEO",rightDecimals:6,leftSymbol:d,leftDecimals:h,ratioData:{value:i}})}):(0,c.jsx)(a.Z.Input,{})},{key:"4",label:"Stage",children:s?(0,c.jsx)(l.Z.Text,{children:s}):(0,c.jsx)(a.Z.Input,{})}];return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(r.Z,{title:"Launch summary",items:v,layout:"vertical"})})}var u=t(6106),d=t(914),h=t(7689),v={row:"style_row__CXFdW"};function m(e){var n,t,a,r,s=e.launch,m=(null===s||void 0===s||null===(n=s.token)||void 0===n?void 0:n.name)||"Token",f=(null===s||void 0===s||null===(t=s.token)||void 0===t||null===(a=t.symbol)||void 0===a?void 0:a.toUpperCase())||"TKN",k=(null===s||void 0===s||null===(r=s.token)||void 0===r?void 0:r.decimals)||6,x=(0,h.s0)(),Z=(0,i.useCallback)((function(){x("/launches/".concat(s.id))}),[s.id,x]);return(0,c.jsxs)(u.Z,{className:v.row,children:[(0,c.jsx)(d.Z,{span:8,children:(0,c.jsx)(l.Z.Link,{onClick:Z,children:m})}),(0,c.jsx)(d.Z,{span:4,children:(0,c.jsx)(l.Z.Text,{children:s.stage.toUpperCase()})}),(0,c.jsx)(d.Z,{span:4,children:(0,c.jsx)(l.Z.Text,{children:s.privacy})}),(0,c.jsx)(d.Z,{span:8,children:(0,c.jsx)(o.T,{rightSymbol:"ALEO",rightDecimals:6,leftSymbol:f,leftDecimals:k,ratioData:{value:s.ratio}})})]})}var f=t(1773);function k(e){var n=e.blockHeight,t=e.sellStartBlock,i=e.sellBlockDuration,r=e.claimStartBlock,s=e.claimBlockDuration;return(0,c.jsxs)(f.Z,{direction:"vertical",children:[(0,c.jsx)(u.Z,{children:(0,c.jsxs)(f.Z,{children:[(0,c.jsx)(l.Z.Text,{children:"Sales start"}),null!=n&&null!=t?(0,c.jsx)(o.D,{currentBlockHeight:n,targetBlockHeight:t}):(0,c.jsx)(a.Z.Input,{})]})}),(0,c.jsx)(u.Z,{children:(0,c.jsxs)(f.Z,{children:[(0,c.jsx)(l.Z.Text,{children:"Sales end"}),null!=n&&null!=t&&null!=i?(0,c.jsx)(o.D,{currentBlockHeight:n,targetBlockHeight:t+i}):(0,c.jsx)(a.Z.Input,{})]})}),(0,c.jsx)(u.Z,{children:(0,c.jsxs)(f.Z,{children:[(0,c.jsx)(l.Z.Text,{children:"Claim start"}),null!=n&&null!=r?(0,c.jsx)(o.D,{currentBlockHeight:n,targetBlockHeight:r}):(0,c.jsx)(a.Z.Input,{})]})}),null!=s&&s>0&&(0,c.jsx)(u.Z,{children:(0,c.jsxs)(f.Z,{children:[(0,c.jsx)(l.Z.Text,{children:"Claim end"}),null!=n&&null!=r?(0,c.jsx)(o.D,{currentBlockHeight:n,targetBlockHeight:r+s}):(0,c.jsx)(a.Z.Input,{})]})})]})}var x=t(71),Z=t(4471),g=t(9102);function p(e,n){var t=e.sellBlockDuration,i=e.sellStartBlock,l=e.claimStartBlock,a=e.claimBlockDuration;return n<i?"pending":n>=i&&n<i+t?"sales":n>=i+t&&n<l?"await TGE":n>=l&&(0===a||n<l+a)?"claims":"finished"}function j(e,n,t){var i;if(e&&n)return{id:e.id,adminAddress:e.adminAddress,sellStartBlock:e.sellStartBlock,sellBlockDuration:e.sellBlockDuration,claimStartBlock:e.claimStartBlock,claimBlockDuration:e.claimBlockDuration,ratio:(0,Z.Z)(e.numerator).div(e.denominator).toFixed(),privacy:(i=e.flags,i.isPrivateSellsEnabled&&i.isPublicSellsEnabled?"mixed":i.isPrivateSellsEnabled?"private":"public"),cap:e.flags.isCapEnabled,token:t,stage:p(e,n)}}function y(e){var n=(0,g.Z)(e),t=n.launch,i=n.loading,l=n.error,a=(0,g.d)(null===t||void 0===t?void 0:t.tokenId),r=a.token,o=a.loading,c=a.error,s=(0,x.hi)(),u=s.blockHeight,d=s.loading,h=s.error;return{launch:j(t,u,r),blockHeight:u,loading:i||o||d,error:l||c||h||void 0}}},8248:function(e,n,t){t.r(n);var i=t(1413),l=t(321),a=t(523),r=t(8139),o=t(184),c=[{launch:{id:"1",ratio:"1e4",stage:"sales",privacy:"mixed",token:{id:"1",name:"AleoPad token",symbol:"ALPDT",decimals:8}}},{launch:{id:"2",ratio:"15e12",stage:"pending",privacy:"private",token:{id:"2",name:"Some token",symbol:"SMTN",decimals:18}}},{launch:{id:"3",ratio:"2e6",stage:"claims",privacy:"public",token:{id:"3",name:"Some token 2",symbol:"SMTN2",decimals:18}}}];n.default=function(){return(0,o.jsx)(l.Z,{title:"Launches",children:(0,o.jsx)(a.Z,{bordered:!0,dataSource:c,renderItem:function(e){return(0,o.jsx)(a.Z.Item,{children:(0,o.jsx)(r.U1,(0,i.Z)({},e))})}})})}},9102:function(e,n,t){t.d(n,{Z:function(){return d},d:function(){return h}});var i=t(9439),l=t(5671),a=t(3144),r=function(){function e(n){(0,l.Z)(this,e),this.key=n}return(0,a.Z)(e,[{key:"getStorageKey",value:function(){return"aleopad_".concat(this.key)}},{key:"load",value:function(){var e=localStorage.getItem(this.getStorageKey());return e?JSON.parse(e):[]}},{key:"save",value:function(e){localStorage.setItem(this.getStorageKey(),JSON.stringify(e))}},{key:"append",value:function(){for(var e=this.load(),n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];this.save(e.concat(t))}}]),e}(),o=new r("launches"),c=new r("tokens"),s=t(71),u=t(2791);function d(e){var n=(0,s.TY)(e),t=(0,u.useState)((function(){return o.load().find((function(e){return e.id===n}))})),l=(0,i.Z)(t,2),a=l[0],r=l[1],c=(0,u.useState)(!1),d=(0,i.Z)(c,2),h=d[0],v=d[1],m=(0,u.useState)(void 0),f=(0,i.Z)(m,2),k=f[0],x=f[1];return(0,u.useEffect)((function(){a||(v(!0),x(void 0),(0,s._h)(n).then((function(e){var t={id:n,adminAddress:e.adminAddress,sellStartBlock:e.sellStartBlock,sellBlockDuration:e.sellBlockDuration,claimStartBlock:e.claimStartBlock,claimBlockDuration:e.claimBlockDuration,numerator:e.numerator.toFixed(),denominator:e.denominator.toFixed(),flags:e.flags,tokenId:e.tokenId?(0,s.TY)(e.tokenId):void 0};o.append(t),r(t),v(!1)})).catch((function(e){v(!1),x(String(e))})))}),[a,n]),{launch:a,loading:h,error:k}}function h(e){var n=e?(0,s.TY)(e):void 0,t=(0,u.useState)((function(){return n?c.load().find((function(e){return e.id===n})):void 0})),l=(0,i.Z)(t,2),a=l[0],r=l[1],o=(0,u.useState)(!1),d=(0,i.Z)(o,2),h=d[0],v=d[1],m=(0,u.useState)(void 0),f=(0,i.Z)(m,2),k=f[0],x=f[1];return(0,u.useEffect)((function(){n&&r(c.load().find((function(e){return e.id===n})))}),[n]),(0,u.useEffect)((function(){!a&&n&&(v(!0),x(void 0),(0,s.yy)(n).then((function(e){var n={id:(0,s.TY)(e.id),decimals:e.decimals,name:(0,s.f8)(e.name),symbol:(0,s.f8)(e.symbol)};c.append(n),r(n),v(!1)})).catch((function(e){v(!1),x(String(e))})))}),[a,n]),{token:a,loading:h,error:k}}},9522:function(e,n,t){t.d(n,{D:function(){return h},T:function(){return p}});var i=t(4942),l=t(1773),a=t(650),r=t(1694),o=t.n(r),c=t(2426),s=t.n(c),u={passed:"styles_passed__pVj6j"},d=t(184);function h(e){var n=e.currentBlockHeight,t=e.targetBlockHeight,r=e.meanBlockTimeInSeconds,c=e.dontShowBlocksCount,h=t-n,v=h<=0,m=Boolean(r)&&r&&0!==h?"~ "+function(e,n,t){var i=t?" ago":"";return s().duration(Math.abs(e)*n,"seconds").humanize()+i}(h,r,v):"",f=c?"":"".concat(Math.abs(h)," Blocks ");return(0,d.jsx)(l.Z,{children:(0,d.jsxs)(a.Z.Text,{className:o()((0,i.Z)({},u.passed,v)),children:[f,m]})})}var v=t(9439),m=t(4471),f=t(2791);function k(e,n,t){return n!=t?(0,m.Z)(e).dividedBy((0,m.Z)(10).pow(Math.abs(n-t))):(0,m.Z)(e)}var x=[{value:1e6,symbol:"M"},{value:1e3,symbol:"K"}];function Z(e,n){for(var t=0;t<x.length;t++){var i=x[t];if((0,m.Z)(e).isGreaterThanOrEqualTo(i.value))return void 0==n?(0,m.Z)(e).div(i.value).toFixed()+i.symbol:(0,m.Z)(e).div(i.value).toFixed(n)+i.symbol}return void 0==n?(0,m.Z)(e).toFixed():(0,m.Z)(e).toFixed(n)}var g=1e-4;function p(e){var n=e.ratioData,t=e.leftSymbol,i=e.leftDecimals,l=e.rightSymbol,r=e.rightDecimals,o=(0,f.useMemo)((function(){return k("value"in n?n.value:(e=n.numerator,t=n.denominator,(0,m.Z)(e).div(t)),r,i);var e,t}),[n,r,i]),c=(0,f.useMemo)((function(){return o.isLessThanOrEqualTo(g)?function(e){return[(0,m.Z)(1).dividedBy(e),(0,m.Z)(1)]}(o):[(0,m.Z)(1),(0,m.Z)(o)]}),[o]),s=(0,v.Z)(c,2),u=s[0],h=s[1];return(0,d.jsxs)(a.Z.Text,{children:[Z(u,0)," ",l.toUpperCase()," ="," ",Z(h)," ",t.toUpperCase()]})}}}]);
//# sourceMappingURL=248.8692020a.chunk.js.map