"use strict";(self.webpackChunkaleopad_ui=self.webpackChunkaleopad_ui||[]).push([[14],{6190:function(e,n,t){t.d(n,{E5:function(){return o},U1:function(){return k},GF:function(){return y},b1:function(){return j},Zw:function(){return g}});var i=t(2791),r=t(650),l=t(183),a=t(281),c=t(9522),s=t(184);function o(e){var n=e.cap,t=e.privacy,i=e.denominator,o=e.numerator,d=e.stage,u=e.token,x=u?u.symbol:"COIN",h=u?u.decimals:6,m=[{key:"1",label:"Privacy",children:t?(0,s.jsx)(r.Z.Text,{children:t}):(0,s.jsx)(l.Z.Input,{})},{key:"2",label:"Cap",children:void 0!=n?(0,s.jsx)(r.Z.Text,{children:n?"enabled":"disabled"}):(0,s.jsx)(l.Z.Input,{})},{key:"3",label:"Ratio",children:o&&i?(0,s.jsx)(r.Z.Text,{children:(0,s.jsx)(c.T,{rightSymbol:"ALEO",rightDecimals:6,leftSymbol:x,leftDecimals:h,ratioData:{numerator:o,denominator:i}})}):(0,s.jsx)(l.Z.Input,{})},{key:"4",label:"Stage",children:d?(0,s.jsx)(r.Z.Text,{children:d}):(0,s.jsx)(l.Z.Input,{})}];return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(a.Z,{title:"Launch summary",items:m,layout:"vertical"})})}var d=t(6106),u=t(914),x=t(2641),h=t(7689),m=t(1916);function j(e){return e.isPrivateSellsEnabled&&e.isPublicSellsEnabled?"mixed":e.isPrivateSellsEnabled?"private":"public"}function Z(e,n){var t=e.sellBlockDuration,i=e.sellStartBlock,r=e.claimStartBlock,l=e.claimBlockDuration;return n<i?"pending":n>=i&&n<i+t?"sales":n>=i+t&&n<r?"await TGE":n>=r&&(0===l||n<r+l)?"claims":"finished"}function f(e,n,t){if(e&&n)return{id:e.id.toFixed(),adminAddress:e.adminAddress,sellStartBlock:e.sellStartBlock,sellBlockDuration:e.sellBlockDuration,claimStartBlock:e.claimStartBlock,claimBlockDuration:e.claimBlockDuration,numerator:e.numerator,denominator:e.denominator,privacy:j(e.flags),cap:e.flags.isCapEnabled,token:(0,m.T)(t),stage:Z(e,n)}}var p={row:"style_row__CXFdW"},v=t(5381);function k(e){var n,t,a,o,m=e.launch,j=e.isConnected,Z=e.onBuyClick,k=(0,v.XV)(m.id),b=(0,v.hi)().blockHeight,y=(0,i.useMemo)((function(){return f(m,b,k.data)}),[m,b,k.data]),g=(null===y||void 0===y||null===(n=y.token)||void 0===n?void 0:n.name)||"Token",C=(null===y||void 0===y||null===(t=y.token)||void 0===t||null===(a=t.symbol)||void 0===a?void 0:a.toUpperCase())||"TKN",B=(null===y||void 0===y||null===(o=y.token)||void 0===o?void 0:o.decimals)||6,I=(0,h.s0)(),T=(0,i.useCallback)((function(){I("/launches/".concat((0,v.mC)(m.id)))}),[m.id,I]);return y?(0,s.jsxs)(d.Z,{className:p.row,align:"middle",children:[(0,s.jsx)(u.Z,{span:4,children:(0,s.jsx)(r.Z.Link,{onClick:T,children:g})}),(0,s.jsx)(u.Z,{span:4,children:(0,s.jsx)(r.Z.Text,{children:y.stage.toUpperCase()})}),(0,s.jsx)(u.Z,{span:4,children:(0,s.jsx)(r.Z.Text,{children:y.privacy})}),(0,s.jsx)(u.Z,{span:8,children:(0,s.jsx)(c.T,{rightSymbol:"ALEO",rightDecimals:6,leftSymbol:C,leftDecimals:B,ratioData:{numerator:m.numerator,denominator:m.denominator}})}),(0,s.jsx)(u.Z,{span:4,children:j&&"sales"===y.stage&&(0,s.jsx)(x.ZP,{type:"primary",onClick:Z,children:"Buy"})})]}):(0,s.jsxs)(d.Z,{className:p.row,align:"middle",children:[(0,s.jsx)(u.Z,{span:4,children:(0,s.jsx)(l.Z.Input,{})}),(0,s.jsx)(u.Z,{span:4,children:(0,s.jsx)(l.Z.Input,{})}),(0,s.jsx)(u.Z,{span:4,children:(0,s.jsx)(l.Z.Input,{})}),(0,s.jsx)(u.Z,{span:8,children:(0,s.jsx)(l.Z.Input,{})}),(0,s.jsx)(u.Z,{span:4,children:(0,s.jsx)(l.Z.Button,{})})]})}var b=t(1773);function y(e){var n=e.blockHeight,t=e.sellStartBlock,i=e.sellBlockDuration,a=e.claimStartBlock,o=e.claimBlockDuration;return(0,s.jsxs)(b.Z,{direction:"vertical",children:[(0,s.jsx)(d.Z,{children:(0,s.jsxs)(b.Z,{children:[(0,s.jsx)(r.Z.Text,{children:"Sales start"}),null!=n&&null!=t?(0,s.jsx)(c.D,{currentBlockHeight:n,targetBlockHeight:t}):(0,s.jsx)(l.Z.Input,{})]})}),(0,s.jsx)(d.Z,{children:(0,s.jsxs)(b.Z,{children:[(0,s.jsx)(r.Z.Text,{children:"Sales end"}),null!=n&&null!=t&&null!=i?(0,s.jsx)(c.D,{currentBlockHeight:n,targetBlockHeight:t+i}):(0,s.jsx)(l.Z.Input,{})]})}),(0,s.jsx)(d.Z,{children:(0,s.jsxs)(b.Z,{children:[(0,s.jsx)(r.Z.Text,{children:"Claim start"}),null!=n&&null!=a?(0,s.jsx)(c.D,{currentBlockHeight:n,targetBlockHeight:a}):(0,s.jsx)(l.Z.Input,{})]})}),null!=o&&o>0&&(0,s.jsx)(d.Z,{children:(0,s.jsxs)(b.Z,{children:[(0,s.jsx)(r.Z.Text,{children:"Claim end"}),null!=n&&null!=a?(0,s.jsx)(c.D,{currentBlockHeight:n,targetBlockHeight:a+o}):(0,s.jsx)(l.Z.Input,{})]})})]})}function g(e){var n,t=(0,v.Zw)(e),i=t.data,r=t.isLoading,l=t.error,a=(0,v.dQ)(null===i||void 0===i||null===(n=i.tokenId)||void 0===n?void 0:n.toFixed()),c=a.data,s=a.isLoading,o=a.error,d=(0,v.hi)(),u=d.blockHeight,x=d.loading,h=d.error;return{launch:f(i,u,c),blockHeight:u,loading:r||s||x,error:l||o||h||void 0}}},8995:function(e,n,t){t.d(n,{s:function(){return x},H:function(){return f}});var i=t(9439),r=t(2791),l=t(4556),a=t(650),c=t(183),s=t(281),o=t(5381),d=t(1916),u=t(184);function x(e){var n=e.tokenId,t=(0,o.dQ)(n),x=t.data,h=t.error,m=(0,r.useMemo)((function(){return(0,d.T)(x)}),[x]),j=l.Z.useNotification(),Z=(0,i.Z)(j,2),f=Z[0],p=Z[1],v=[{key:"1",label:"Name",children:x?(0,u.jsx)(a.Z.Text,{children:m.name}):(0,u.jsx)(c.Z.Input,{})},{key:"2",label:"Symbol",children:x?(0,u.jsx)(a.Z.Text,{children:m.symbol.toUpperCase()}):(0,u.jsx)(c.Z.Input,{})},{key:"3",label:"Decimals",children:x?(0,u.jsx)(a.Z.Text,{children:m.decimals}):(0,u.jsx)(c.Z.Input,{})}];return(0,r.useEffect)((function(){h&&f.error({message:"Token loading error",description:String(h)})}),[h]),(0,u.jsxs)(u.Fragment,{children:[p,(0,u.jsx)(s.Z,{title:"Token",items:v,layout:"vertical"})]})}var h=t(7689),m={row:"style_row__sMVKO"},j=t(6106),Z=t(914);function f(e){var n=e.token,t=(0,h.s0)(),i=(0,r.useCallback)((function(){t("/tokens/".concat(n.id))}),[n.id,t]);return(0,u.jsxs)(j.Z,{className:m.row,children:[(0,u.jsx)(Z.Z,{span:20,children:(0,u.jsx)(a.Z.Link,{onClick:i,children:n.name})}),(0,u.jsx)(Z.Z,{span:4,children:(0,u.jsx)(a.Z.Text,{children:n.decimals})})]})}},1916:function(e,n,t){t.d(n,{T:function(){return r}});var i=t(5381);function r(e){if(e)return{name:(0,i.f8)(e.name),symbol:(0,i.f8)(e.symbol),id:e.id.toFixed(),decimals:e.decimals}}},4055:function(e,n,t){t.d(n,{Z:function(){return k}});var i=t(9439),r=t(5381),l=t(4840),a=t(8597),c=t(2641),s=t(6106),o=t(650),d=t(2791),u=t(184);function x(e){var n=e.publicBalance,t=e.setAmount,i=e.showTitle,x=e.enabled,h=e.blocker,m=e.buy,j=e.amount,Z=(0,d.useMemo)((function(){return j.gt(0)&&j.lte(n)&&x&&!h}),[j,n,x,h]);return(0,u.jsxs)(l.Z,{title:i?"Buy public":void 0,layout:"vertical",children:[(0,u.jsx)(l.Z.Item,{label:"Credits amount (available ".concat((0,r.k8)(n,6).toFixed(),")"),children:(0,u.jsx)(a.Z,{min:0,value:(0,r.k8)(j,6).toNumber(),onChange:function(e){t(new r.G9((0,r.xG)(e||0,6)))},addonAfter:(0,u.jsx)(c.ZP,{onClick:function(){t(n)},children:"Max"})})}),(0,u.jsxs)(l.Z.Item,{children:[(0,u.jsx)(s.Z,{justify:"center",children:(0,u.jsx)(c.ZP,{type:"primary",disabled:!Z,onClick:function(){Z&&m()},children:"Buy"})}),h&&(0,u.jsx)(s.Z,{children:(0,u.jsx)(o.Z.Text,{type:"danger",children:h})})]})]})}var h=t(3433),m=t(523),j=function(e){var n=e.records,t=e.onRecordClick,i=e.selectedRecord;return(0,u.jsx)(m.Z,{bordered:!0,header:(0,u.jsx)(o.Z.Title,{level:3,children:"Credit private records"}),dataSource:n,renderItem:function(e){return(0,u.jsx)(m.Z.Item,{onClick:function(){return t(e)},children:(0,u.jsxs)(o.Z.Text,{type:"secondary",mark:i===e,children:[(0,r.k8)(e.amount,6).dp(2).toString()," CREDITs"]})})}})};function Z(e){var n=e.records,t=e.buy,i=e.selectRecord,x=e.selectedRecord,m=e.amount,Z=e.setAmount,f=e.enabled,p=e.blocker,v=e.showTitle,k=(0,d.useMemo)((function(){return r.G9.maximum.apply(r.G9,(0,h.Z)(n.map((function(e){return e.amount}))).concat([0]))}),[n]),b=(0,d.useMemo)((function(){return m.gt(0)&&m.lte(k)&&x&&f&&!p}),[m,k,f,p,x]);return(0,u.jsxs)(l.Z,{title:v?"Buy private":void 0,layout:"vertical",children:[(0,u.jsx)(l.Z.Item,{label:"Credits amount (available ".concat((0,r.k8)(k,6).toFixed(),")"),children:(0,u.jsx)(a.Z,{min:0,value:(0,r.k8)(m,6).toNumber(),onChange:function(e){Z(new r.G9((0,r.xG)(e||0,6)))},addonAfter:(0,u.jsx)(c.ZP,{onClick:function(){Z(k)},children:"Max"})})}),(0,u.jsx)(l.Z.Item,{children:(0,u.jsx)(j,{records:n,selectedRecord:x,onRecordClick:i})}),(0,u.jsxs)(l.Z.Item,{children:[(0,u.jsx)(s.Z,{justify:"center",children:(0,u.jsx)(c.ZP,{type:"primary",disabled:!b,onClick:function(){b&&t()},children:"Buy"})}),p&&(0,u.jsx)(s.Z,{children:(0,u.jsx)(o.Z.Text,{type:"danger",children:p})})]})]})}var f=t(183),p=t(1773);function v(e){var n=e.selectMode,t=e.currentMode;function i(e){n(e)}return(0,u.jsx)(s.Z,{justify:"center",children:(0,u.jsxs)(p.Z.Compact,{children:[(0,u.jsx)(c.ZP,{type:"public"===t?"primary":"default",onClick:function(){return i("public")},children:"Public"}),(0,u.jsx)(c.ZP,{type:"private"===t?"primary":"default",onClick:function(){return i("private")},children:"Private"})]})})}function k(e){var n=e.privacy,t=e.launchId,l=(0,d.useState)("public"),a=(0,i.Z)(l,2),c=a[0],o=a[1],h=(0,r.eX)(t),m="mixed"===n;if(h.loading||!h.enabled)return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(f.Z,{})});return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(p.Z,{direction:"vertical",children:[m&&(0,u.jsx)(v,{selectMode:function(e){o(e),"public"===e&&h.setSelectedPayment("public")},currentMode:c}),(0,u.jsx)(s.Z,{justify:"center",children:"public"===c?(0,u.jsx)(x,{amount:h.creditsAmount,setAmount:h.setCreditsAmount,buy:h.mutation.mutate,enabled:!h.mutation.isLoading,blocker:h.getBlocker(),publicBalance:h.amounts.publicAmount,showTitle:!m}):(0,u.jsx)(Z,{amount:h.creditsAmount,setAmount:h.setCreditsAmount,buy:h.mutation.mutate,enabled:!h.mutation.isLoading,blocker:h.getBlocker(),selectedRecord:"object"===typeof h.selectedPayment?h.selectedPayment:void 0,selectRecord:h.setSelectedPayment,records:h.amounts.privateRecords,showTitle:!m})})]})})}},6259:function(e,n,t){t.r(n),t.d(n,{default:function(){return I}});var i=t(7689),r=t(1413),l=t(9439),a=t(4593),c=t(4556),s=t(321),o=t(1773),d=t(6106),u=t(650),x=t(6190),h=t(8995),m=t(4055),j=t(183),Z=t(4840),f=t(177),p=t(8597),v=t(2641),k=t(2791),b=t(5381),y=t(184),g={invalidPrefix:"Address should start with 'aleo1'"};function C(e){var n=e.administration,t=e.tokenDecimals,i=(0,k.useState)(null),r=(0,l.Z)(i,2),a=r[0],c=r[1],s=(0,b.oI)(n);if(s.loading)return(0,y.jsx)(j.Z,{});return(0,y.jsxs)(Z.Z,{labelCol:{span:7},children:[(0,y.jsx)(Z.Z.Item,{label:"Grantee address",validateStatus:Boolean(a)?"error":void 0,help:a&&g[a],children:(0,y.jsx)(f.Z,{value:s.grantee||"",onChange:function(e){e.target.value.startsWith("aleo1")?c(null):c("invalidPrefix"),s.setGrantee(e.target.value||"")}})}),(0,y.jsx)(Z.Z.Item,{label:"Cap amount",children:(0,y.jsx)(p.Z,{value:(0,b.k8)(s.amount,t).toNumber(),onChange:function(e){var n=e||0;s.setAmount(new b.fE((0,b.xG)(n,t)))},min:0})}),(0,y.jsx)(Z.Z.Item,{help:s.blocker,children:(0,y.jsx)(d.Z,{justify:"center",children:(0,y.jsx)(v.ZP,{type:"primary",children:"Grant"})})})]})}function B(e){var n,t=e.launchId,i=(0,x.Zw)(t),j=i.launch,Z=i.blockHeight,f=i.error,p=(0,b.bF)(null===j||void 0===j?void 0:j.id),v=(0,a.Os)(),g=c.Z.useNotification(),B=(0,l.Z)(g,2),I=B[0],T=B[1];return(0,k.useEffect)((function(){f&&I.error({message:"Launch loading error",description:f})}),[f]),(0,y.jsxs)(s.Z,{title:"Launch",children:[T,(0,y.jsxs)(o.Z,{direction:"vertical",children:[(0,y.jsx)(d.Z,{children:(0,y.jsx)(x.E5,(0,r.Z)({},j))}),(null===j||void 0===j||null===(n=j.token)||void 0===n?void 0:n.id)&&(0,y.jsx)(d.Z,{justify:"center",children:(0,y.jsx)(h.s,{tokenId:j.token.id})}),p.data&&(null===j||void 0===j?void 0:j.token)&&(null===j||void 0===j?void 0:j.cap)&&(0,y.jsxs)(d.Z,{justify:"center",children:[(0,y.jsx)(u.Z.Title,{level:4,children:"Grant cap"}),(0,y.jsx)(C,{administration:p.data,tokenDecimals:j.token.decimals})]}),(0,y.jsx)(d.Z,{justify:"center",children:(0,y.jsx)(u.Z.Title,{level:4,children:"Schedule"})}),(0,y.jsx)(d.Z,{children:(0,y.jsx)(x.GF,(0,r.Z)({blockHeight:Z},j))}),(0,y.jsx)(d.Z,{justify:"center",children:j&&"sales"===j.stage&&v.connected&&(0,y.jsx)(m.Z,{launchId:t,privacy:j.privacy})})]})]})}var I=function(){var e=(0,i.UO)().id;return(0,y.jsx)(B,{launchId:e})}}}]);
//# sourceMappingURL=14.5e39b7fa.chunk.js.map