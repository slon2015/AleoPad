"use strict";(self.webpackChunkaleopad_ui=self.webpackChunkaleopad_ui||[]).push([[483],{1483:function(e,n,t){t.r(n),t.d(n,{default:function(){return g}});var i=t(1413),r=t(9439),a=t(321),o=t(1640),l=t(2791),c=t(6106),u=t(914),s=t(650),d=t(2641),m="styles_row__LYdbW",h=t(1087),Z=t(9),f=t(7654),k=t(184);var x=function(e){var n=function(e){return{launchId:(0,Z.mC)(e.launch.id),amount:e.amount,isClaimable:e.launch.claimStartBlock<=e.currentBlockHeight&&(0===e.launch.claimBlockDuration||e.launch.claimStartBlock+e.launch.claimBlockDuration>e.currentBlockHeight)}}(e),t=n.launchId,i=n.amount,r=n.isClaimable,a=function(e,n){return e.isSuccess&&e.data?{tokenDecimals:e.data.decimals,tokenName:(0,Z.f8)(e.data.name),tokenSymbol:(0,Z.f8)(e.data.symbol),id:e.data.id}:{tokenName:"Coin-".concat(n),tokenDecimals:6,tokenSymbol:"TKN"}}((0,Z.XV)(t),t),o=a.id,x=a.tokenName,v=a.tokenSymbol,j=a.tokenDecimals,p=e.onClaimClick,y=(0,l.useCallback)((function(){r&&o&&p((0,Z.mC)(o))}),[o,r,p]),b=0===i;return(0,k.jsxs)(c.Z,{className:m,align:"middle",children:[(0,k.jsx)(u.Z,{span:10,children:(0,k.jsx)(s.Z.Text,{children:x})}),(0,k.jsx)(u.Z,{span:6,children:(0,k.jsx)(f.$d,{amount:i,decimals:j,symbol:v})}),(0,k.jsx)(u.Z,{span:3,children:(0,k.jsx)(h.rU,{to:"/launches/".concat(t),children:"Launch"})}),(0,k.jsx)(u.Z,{span:5,children:r&&!b&&(0,k.jsx)(d.ZP,{type:"primary",onClick:y,children:"Claim"})})]})},v=t(8656),j=t(1773);function p(e){var n=e.selectMode,t=e.currentMode;function i(e){n(e)}return(0,k.jsx)(c.Z,{justify:"center",children:(0,k.jsxs)(j.Z.Compact,{children:[(0,k.jsx)(d.ZP,{type:"public"===t?"primary":"default",onClick:function(){return i("public")},children:"Public"}),(0,k.jsx)(d.ZP,{type:"private"===t?"primary":"default",onClick:function(){return i("private")},children:"Private"})]})})}var y=t(183),b=t(4840);function C(e){var n=e.ticket,t=e.tokenId,i=(0,Z.ud)(t,n),r=(0,Z.dQ)(t);return!i.loading&&i.enabled&&r.data?(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(j.Z,{direction:"vertical",children:(0,k.jsxs)(b.Z,{title:"Claim token",layout:"vertical",children:[(0,k.jsx)(b.Z.Item,{children:(0,k.jsx)(p,{currentMode:i.privacy,selectMode:function(e){return i.setPrivacy(e)}})}),(0,k.jsx)(b.Z.Item,{children:(0,k.jsxs)(s.Z.Text,{children:["You will receive"," ",(0,k.jsx)(f.$d,{amount:n.amount,decimals:r.data.decimals,symbol:(0,Z.f8)(r.data.symbol)})]})}),(0,k.jsxs)(b.Z.Item,{children:[(0,k.jsx)(c.Z,{justify:"center",children:(0,k.jsx)(d.ZP,{type:"primary",disabled:!i.enabled&&!i.blocker&&!i.mutation.isLoading,onClick:function(){return i.mutation.mutate()},children:"Claim"})}),i.blocker&&(0,k.jsx)(c.Z,{children:(0,k.jsx)(s.Z.Text,{type:"danger",children:i.blocker})})]})]})})}):(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(y.Z,{})})}function B(e){var n=e.ticket,t=e.tokenId,i=e.onModalClose,r=Boolean(n);return(0,k.jsx)(v.Z,{open:r,onCancel:i,title:"Claim Launch ticket",footer:null,children:(0,k.jsx)(c.Z,{justify:"center",children:(0,k.jsx)(C,{ticket:n,tokenId:t})})})}var g=function(){var e=(0,Z.L0)(),n=(0,Z.hi)(),t=(0,l.useState)(),c=(0,r.Z)(t,2),u=c[0],s=c[1],d=e.loading||"number"!==typeof n.blockHeight?[]:e.items.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{currentBlockHeight:n.blockHeight,onClaimClick:function(n){s((0,i.Z)((0,i.Z)({},e),{},{tokenId:n}))}})}));return(0,k.jsxs)(a.Z,{title:"Tickets",children:[u&&(0,k.jsx)(B,{ticket:u,tokenId:u.tokenId,onModalClose:function(){return s(void 0)}}),(0,k.jsx)(o.Z,{bordered:!0,dataSource:d,renderItem:function(e){return(0,k.jsx)(o.Z.Item,{children:(0,k.jsx)(x,(0,i.Z)({},e))})}})]})}},7654:function(e,n,t){t.d(n,{$d:function(){return b},DU:function(){return m},T_:function(){return p}});var i=t(4942),r=t(1773),a=t(650),o=t(1694),l=t.n(o),c=t(2426),u=t.n(c),s={passed:"styles_passed__pVj6j"},d=t(184);function m(e){var n=e.currentBlockHeight,t=e.targetBlockHeight,o=e.meanBlockTimeInSeconds,c=e.dontShowBlocksCount,m=t-n,h=m<=0,Z=Boolean(o)&&o&&0!==m?"~ "+function(e,n,t){var i=t?" ago":"";return u().duration(Math.abs(e)*n,"seconds").humanize()+i}(m,o,h):"",f=c?"":"".concat(Math.abs(m)," Blocks ");return(0,d.jsx)(r.Z,{children:(0,d.jsxs)(a.Z.Text,{className:l()((0,i.Z)({},s.passed,h)),children:[f,Z]})})}var h=t(9439),Z=t(4471),f=t(2791);function k(e,n,t){return n!==t?(0,Z.Z)(e).dividedBy((0,Z.Z)(10).pow(Math.abs(n-t))):(0,Z.Z)(e)}var x=[{value:1e6,symbol:"M"},{value:1e3,symbol:"K"}];function v(e,n){for(var t=0;t<x.length;t++){var i=x[t];if((0,Z.Z)(e).isGreaterThanOrEqualTo(i.value))return n||0===n?(0,Z.Z)(e).div(i.value).toFixed(n)+i.symbol:(0,Z.Z)(e).div(i.value).toFixed()+i.symbol}return n||0===n?(0,Z.Z)(e).toFixed(n):(0,Z.Z)(e).toFixed()}var j=1e-4;function p(e){var n=e.ratioData,t=e.leftSymbol,i=e.leftDecimals,r=e.rightSymbol,o=e.rightDecimals,l=e.notInvertAmounts,c=e.creditsAmount,u=void 0===c?1:c,s=e.creditsDecimalPlaces,m=void 0===s?0:s,x=(0,f.useMemo)((function(){return k("value"in n?(0,Z.Z)(1).dividedBy(n.value):(e=n.numerator,t=n.denominator,(0,Z.Z)(e).div(t)),o,i);var e,t}),[n,o,i]),p=(0,f.useMemo)((function(){return!l&&x.isLessThanOrEqualTo(j)?function(e){return[(0,Z.Z)(1).dividedBy(e),(0,Z.Z)(1)]}(x):[(0,Z.Z)(1),(0,Z.Z)(x)]}),[x,l]),y=(0,h.Z)(p,2),b=y[0],C=y[1];return(0,d.jsxs)(a.Z.Text,{children:[v(b.multipliedBy(u),m)," ",r.toUpperCase()," ="," ",v(C.multipliedBy(u))," ",t.toUpperCase()]})}var y=t(9);function b(e){var n=e.amount,t=e.decimals,i=e.symbol,r=(0,f.useMemo)((function(){return"object"===typeof(e=n)&&"numerator"in e?(0,Z.Z)(e.amount).multipliedBy(e.numerator).dividedBy(e.denominator):(0,Z.Z)(e);var e}),[n]);return(0,d.jsxs)(a.Z.Text,{children:[v((0,y.k8)(r,t))," ",i]})}}}]);
//# sourceMappingURL=483.996d83fb.chunk.js.map