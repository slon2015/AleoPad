"use strict";(self.webpackChunkaleopad_ui=self.webpackChunkaleopad_ui||[]).push([[973],{6190:function(e,n,t){t.d(n,{E5:function(){return s},U1:function(){return k},GF:function(){return y},b1:function(){return j},Zw:function(){return g}});var r=t(2791),i=t(650),l=t(183),o=t(281),a=t(9522),c=t(184);function s(e){var n=e.cap,t=e.privacy,r=e.denominator,s=e.numerator,u=e.stage,d=e.token,m=d?d.symbol:"COIN",x=d?d.decimals:6,h=[{key:"1",label:"Privacy",children:t?(0,c.jsx)(i.Z.Text,{children:t}):(0,c.jsx)(l.Z.Input,{})},{key:"2",label:"Cap",children:void 0!=n?(0,c.jsx)(i.Z.Text,{children:n?"enabled":"disabled"}):(0,c.jsx)(l.Z.Input,{})},{key:"3",label:"Ratio",children:s&&r?(0,c.jsx)(i.Z.Text,{children:(0,c.jsx)(a.T,{rightSymbol:"ALEO",rightDecimals:6,leftSymbol:m,leftDecimals:x,ratioData:{numerator:s,denominator:r}})}):(0,c.jsx)(l.Z.Input,{})},{key:"4",label:"Stage",children:u?(0,c.jsx)(i.Z.Text,{children:u}):(0,c.jsx)(l.Z.Input,{})}];return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(o.Z,{title:"Launch summary",items:h,layout:"vertical"})})}var u=t(6106),d=t(914),m=t(2641),x=t(7689),h=t(1916);function j(e){return e.isPrivateSellsEnabled&&e.isPublicSellsEnabled?"mixed":e.isPrivateSellsEnabled?"private":"public"}function Z(e,n){var t=e.sellBlockDuration,r=e.sellStartBlock,i=e.claimStartBlock,l=e.claimBlockDuration;return n<r?"pending":n>=r&&n<r+t?"sales":n>=r+t&&n<i?"await TGE":n>=i&&(0===l||n<i+l)?"claims":"finished"}function v(e,n,t){if(e&&n)return{id:e.id.toFixed(),adminAddress:e.adminAddress,sellStartBlock:e.sellStartBlock,sellBlockDuration:e.sellBlockDuration,claimStartBlock:e.claimStartBlock,claimBlockDuration:e.claimBlockDuration,numerator:e.numerator,denominator:e.denominator,privacy:j(e.flags),cap:e.flags.isCapEnabled,token:(0,h.T)(t),stage:Z(e,n)}}var f={row:"style_row__CXFdW"},p=t(5381);function k(e){var n,t,o,s,h=e.launch,j=e.isConnected,Z=e.onBuyClick,k=(0,p.XV)(h.id),b=(0,p.hi)().blockHeight,y=(0,r.useMemo)((function(){return v(h,b,k.data)}),[h,b,k.data]),g=(null===y||void 0===y||null===(n=y.token)||void 0===n?void 0:n.name)||"Token",B=(null===y||void 0===y||null===(t=y.token)||void 0===t||null===(o=t.symbol)||void 0===o?void 0:o.toUpperCase())||"TKN",C=(null===y||void 0===y||null===(s=y.token)||void 0===s?void 0:s.decimals)||6,T=(0,x.s0)(),S=(0,r.useCallback)((function(){T("/launches/".concat((0,p.mC)(h.id)))}),[h.id,T]);return y?(0,c.jsxs)(u.Z,{className:f.row,align:"middle",children:[(0,c.jsx)(d.Z,{span:4,children:(0,c.jsx)(i.Z.Link,{onClick:S,children:g})}),(0,c.jsx)(d.Z,{span:4,children:(0,c.jsx)(i.Z.Text,{children:y.stage.toUpperCase()})}),(0,c.jsx)(d.Z,{span:4,children:(0,c.jsx)(i.Z.Text,{children:y.privacy})}),(0,c.jsx)(d.Z,{span:8,children:(0,c.jsx)(a.T,{rightSymbol:"ALEO",rightDecimals:6,leftSymbol:B,leftDecimals:C,ratioData:{numerator:h.numerator,denominator:h.denominator}})}),(0,c.jsx)(d.Z,{span:4,children:j&&"sales"===y.stage&&(0,c.jsx)(m.ZP,{type:"primary",onClick:Z,children:"Buy"})})]}):(0,c.jsxs)(u.Z,{className:f.row,align:"middle",children:[(0,c.jsx)(d.Z,{span:4,children:(0,c.jsx)(l.Z.Input,{})}),(0,c.jsx)(d.Z,{span:4,children:(0,c.jsx)(l.Z.Input,{})}),(0,c.jsx)(d.Z,{span:4,children:(0,c.jsx)(l.Z.Input,{})}),(0,c.jsx)(d.Z,{span:8,children:(0,c.jsx)(l.Z.Input,{})}),(0,c.jsx)(d.Z,{span:4,children:(0,c.jsx)(l.Z.Button,{})})]})}var b=t(1773);function y(e){var n=e.blockHeight,t=e.sellStartBlock,r=e.sellBlockDuration,o=e.claimStartBlock,s=e.claimBlockDuration;return(0,c.jsxs)(b.Z,{direction:"vertical",children:[(0,c.jsx)(u.Z,{children:(0,c.jsxs)(b.Z,{children:[(0,c.jsx)(i.Z.Text,{children:"Sales start"}),null!=n&&null!=t?(0,c.jsx)(a.D,{currentBlockHeight:n,targetBlockHeight:t}):(0,c.jsx)(l.Z.Input,{})]})}),(0,c.jsx)(u.Z,{children:(0,c.jsxs)(b.Z,{children:[(0,c.jsx)(i.Z.Text,{children:"Sales end"}),null!=n&&null!=t&&null!=r?(0,c.jsx)(a.D,{currentBlockHeight:n,targetBlockHeight:t+r}):(0,c.jsx)(l.Z.Input,{})]})}),(0,c.jsx)(u.Z,{children:(0,c.jsxs)(b.Z,{children:[(0,c.jsx)(i.Z.Text,{children:"Claim start"}),null!=n&&null!=o?(0,c.jsx)(a.D,{currentBlockHeight:n,targetBlockHeight:o}):(0,c.jsx)(l.Z.Input,{})]})}),null!=s&&s>0&&(0,c.jsx)(u.Z,{children:(0,c.jsxs)(b.Z,{children:[(0,c.jsx)(i.Z.Text,{children:"Claim end"}),null!=n&&null!=o?(0,c.jsx)(a.D,{currentBlockHeight:n,targetBlockHeight:o+s}):(0,c.jsx)(l.Z.Input,{})]})})]})}function g(e){var n,t=(0,p.Zw)(e),r=t.data,i=t.isLoading,l=t.error,o=(0,p.dQ)(null===r||void 0===r||null===(n=r.tokenId)||void 0===n?void 0:n.toFixed()),a=o.data,c=o.isLoading,s=o.error,u=(0,p.hi)(),d=u.blockHeight,m=u.loading,x=u.error;return{launch:v(r,d,a),blockHeight:d,loading:i||c||m,error:l||s||x||void 0}}},1916:function(e,n,t){t.d(n,{T:function(){return i}});var r=t(5381);function i(e){if(e)return{name:(0,r.f8)(e.name),symbol:(0,r.f8)(e.symbol),id:e.id.toFixed(),decimals:e.decimals}}},4055:function(e,n,t){t.d(n,{Z:function(){return k}});var r=t(9439),i=t(5381),l=t(4840),o=t(8597),a=t(2641),c=t(6106),s=t(650),u=t(2791),d=t(184);function m(e){var n=e.publicBalance,t=e.setAmount,r=e.showTitle,m=e.enabled,x=e.blocker,h=e.buy,j=e.amount,Z=(0,u.useMemo)((function(){return j.gt(0)&&j.lte(n)&&m&&!x}),[j,n,m,x]);return(0,d.jsxs)(l.Z,{title:r?"Buy public":void 0,layout:"vertical",children:[(0,d.jsx)(l.Z.Item,{label:"Credits amount (available ".concat((0,i.k8)(n,6).toFixed(),")"),children:(0,d.jsx)(o.Z,{min:0,value:(0,i.k8)(j,6).toNumber(),onChange:function(e){t(new i.G9((0,i.xG)(e||0,6)))},addonAfter:(0,d.jsx)(a.ZP,{onClick:function(){t(n)},children:"Max"})})}),(0,d.jsxs)(l.Z.Item,{children:[(0,d.jsx)(c.Z,{justify:"center",children:(0,d.jsx)(a.ZP,{type:"primary",disabled:!Z,onClick:function(){Z&&h()},children:"Buy"})}),x&&(0,d.jsx)(c.Z,{children:(0,d.jsx)(s.Z.Text,{type:"danger",children:x})})]})]})}var x=t(3433),h=t(523),j=function(e){var n=e.records,t=e.onRecordClick,r=e.selectedRecord;return(0,d.jsx)(h.Z,{bordered:!0,header:(0,d.jsx)(s.Z.Title,{level:3,children:"Credit private records"}),dataSource:n,renderItem:function(e){return(0,d.jsx)(h.Z.Item,{onClick:function(){return t(e)},children:(0,d.jsxs)(s.Z.Text,{type:"secondary",mark:r===e,children:[(0,i.k8)(e.amount,6).dp(2).toString()," CREDITs"]})})}})};function Z(e){var n=e.records,t=e.buy,r=e.selectRecord,m=e.selectedRecord,h=e.amount,Z=e.setAmount,v=e.enabled,f=e.blocker,p=e.showTitle,k=(0,u.useMemo)((function(){return i.G9.maximum.apply(i.G9,(0,x.Z)(n.map((function(e){return e.amount}))).concat([0]))}),[n]),b=(0,u.useMemo)((function(){return h.gt(0)&&h.lte(k)&&m&&v&&!f}),[h,k,v,f,m]);return(0,d.jsxs)(l.Z,{title:p?"Buy private":void 0,layout:"vertical",children:[(0,d.jsx)(l.Z.Item,{label:"Credits amount (available ".concat((0,i.k8)(k,6).toFixed(),")"),children:(0,d.jsx)(o.Z,{min:0,value:(0,i.k8)(h,6).toNumber(),onChange:function(e){Z(new i.G9((0,i.xG)(e||0,6)))},addonAfter:(0,d.jsx)(a.ZP,{onClick:function(){Z(k)},children:"Max"})})}),(0,d.jsx)(l.Z.Item,{children:(0,d.jsx)(j,{records:n,selectedRecord:m,onRecordClick:r})}),(0,d.jsxs)(l.Z.Item,{children:[(0,d.jsx)(c.Z,{justify:"center",children:(0,d.jsx)(a.ZP,{type:"primary",disabled:!b,onClick:function(){b&&t()},children:"Buy"})}),f&&(0,d.jsx)(c.Z,{children:(0,d.jsx)(s.Z.Text,{type:"danger",children:f})})]})]})}var v=t(183),f=t(1773);function p(e){var n=e.selectMode,t=e.currentMode;function r(e){n(e)}return(0,d.jsx)(c.Z,{justify:"center",children:(0,d.jsxs)(f.Z.Compact,{children:[(0,d.jsx)(a.ZP,{type:"public"===t?"primary":"default",onClick:function(){return r("public")},children:"Public"}),(0,d.jsx)(a.ZP,{type:"private"===t?"primary":"default",onClick:function(){return r("private")},children:"Private"})]})})}function k(e){var n=e.privacy,t=e.launchId,l=(0,u.useState)("public"),o=(0,r.Z)(l,2),a=o[0],s=o[1],x=(0,i.eX)(t),h="mixed"===n;if(x.loading||!x.enabled)return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(v.Z,{})});return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(f.Z,{direction:"vertical",children:[h&&(0,d.jsx)(p,{selectMode:function(e){s(e),"public"===e&&x.setSelectedPayment("public")},currentMode:a}),(0,d.jsx)(c.Z,{justify:"center",children:"public"===a?(0,d.jsx)(m,{amount:x.creditsAmount,setAmount:x.setCreditsAmount,buy:x.mutation.mutate,enabled:!x.mutation.isLoading,blocker:x.getBlocker(),publicBalance:x.amounts.publicAmount,showTitle:!h}):(0,d.jsx)(Z,{amount:x.creditsAmount,setAmount:x.setCreditsAmount,buy:x.mutation.mutate,enabled:!x.mutation.isLoading,blocker:x.getBlocker(),selectedRecord:"object"===typeof x.selectedPayment?x.selectedPayment:void 0,selectRecord:x.setSelectedPayment,records:x.amounts.privateRecords,showTitle:!h})})]})})}},9973:function(e,n,t){t.r(n),t.d(n,{default:function(){return j}});var r=t(9439),i=t(4593),l=t(321),o=t(523),a=t(6190),c=t(2791),s=t(5381),u=t(8656),d=t(6106),m=t(4055),x=t(184);function h(e){var n=e.launch,t=e.onModalClose,r=Boolean(n),i=(0,a.b1)(n.flags);return(0,x.jsx)(u.Z,{open:r,onCancel:t,title:"Buy Launch ticket",footer:null,children:n&&(0,x.jsx)(d.Z,{justify:"center",children:(0,x.jsx)(m.Z,{launchId:n.id,privacy:i})})})}var j=function(){var e=(0,s.O3)(),n=(0,c.useState)(),t=(0,r.Z)(n,2),u=t[0],d=t[1],m=(0,i.Os)();return(0,x.jsxs)(l.Z,{title:"Launches",children:[u&&(0,x.jsx)(h,{launch:u,onModalClose:function(){return d(void 0)}}),(0,x.jsx)(o.Z,{bordered:!0,dataSource:e.data||[],renderItem:function(e){return(0,x.jsx)(o.Z.Item,{children:(0,x.jsx)(a.U1,{launch:e,isConnected:m.connected,onBuyClick:function(){return d(e)}})})}})]})}},9522:function(e,n,t){t.d(n,{D:function(){return m},T:function(){return k}});var r=t(4942),i=t(1773),l=t(650),o=t(1694),a=t.n(o),c=t(2426),s=t.n(c),u={passed:"styles_passed__pVj6j"},d=t(184);function m(e){var n=e.currentBlockHeight,t=e.targetBlockHeight,o=e.meanBlockTimeInSeconds,c=e.dontShowBlocksCount,m=t-n,x=m<=0,h=Boolean(o)&&o&&0!==m?"~ "+function(e,n,t){var r=t?" ago":"";return s().duration(Math.abs(e)*n,"seconds").humanize()+r}(m,o,x):"",j=c?"":"".concat(Math.abs(m)," Blocks ");return(0,d.jsx)(i.Z,{children:(0,d.jsxs)(l.Z.Text,{className:a()((0,r.Z)({},u.passed,x)),children:[j,h]})})}var x=t(9439),h=t(4471),j=t(2791);function Z(e,n,t){return n!=t?(0,h.Z)(e).dividedBy((0,h.Z)(10).pow(Math.abs(n-t))):(0,h.Z)(e)}var v=[{value:1e6,symbol:"M"},{value:1e3,symbol:"K"}];function f(e,n){for(var t=0;t<v.length;t++){var r=v[t];if((0,h.Z)(e).isGreaterThanOrEqualTo(r.value))return void 0==n?(0,h.Z)(e).div(r.value).toFixed()+r.symbol:(0,h.Z)(e).div(r.value).toFixed(n)+r.symbol}return void 0==n?(0,h.Z)(e).toFixed():(0,h.Z)(e).toFixed(n)}var p=1e-4;function k(e){var n=e.ratioData,t=e.leftSymbol,r=e.leftDecimals,i=e.rightSymbol,o=e.rightDecimals,a=e.notInvertAmounts,c=e.creditsAmount,s=void 0===c?1:c,u=e.creditsDecimalPlaces,m=void 0===u?0:u,v=(0,j.useMemo)((function(){return Z("value"in n?(0,h.Z)(1).dividedBy(n.value):(e=n.numerator,t=n.denominator,(0,h.Z)(e).div(t)),o,r);var e,t}),[n,o,r]),k=(0,j.useMemo)((function(){return!a&&v.isLessThanOrEqualTo(p)?function(e){return[(0,h.Z)(1).dividedBy(e),(0,h.Z)(1)]}(v):[(0,h.Z)(1),(0,h.Z)(v)]}),[v,a]),b=(0,x.Z)(k,2),y=b[0],g=b[1];return(0,d.jsxs)(l.Z.Text,{children:[f(y.multipliedBy(s),m)," ",i.toUpperCase()," ="," ",f(g.multipliedBy(s))," ",t.toUpperCase()]})}}}]);
//# sourceMappingURL=973.6aa0d6f2.chunk.js.map